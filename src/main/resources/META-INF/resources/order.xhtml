<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui"
	template="/templates/template.xhtml">

	<ui:define name="title">
		<h:outputText value="#{labels['order.title']}" />
	</ui:define>
	
	<ui:define name="page-content">
    	
    	<h:outputStylesheet library="css" name="order.css" />
    	
		<h:form>
		
    		<p:growl id="growl" showDetail="true" />
		
			<p:steps activeIndex="#{orderView.activeIndex}">
				<p:menuitem value="#{labels['order.step.menu']}"/>
	        	<p:menuitem value="#{labels['order.step.delivery-address']}"/>
				<p:menuitem value="#{labels['order.step.payment-data']}"/>
	        	<p:menuitem value="#{labels['order.step.confirm']}"/>
			</p:steps>
			
			<br />
			
			<p:commandButton action="#{orderView.previousStep()}"
							 value="#{labels['order.back']}"
							 update="@form"
							 disabled="#{! orderView.hasPreviousStep() or orderView.orderCompleted}"
							 immediate="true"
							 styleClass="form-button"/>
			<p:commandButton action="#{orderView.nextStep()}"
							 value="#{labels['order.next']}"
							 update="@form"
							 disabled="#{! orderView.hasNextStep()}"
							 styleClass="form-button"/>
			<p:commandButton action="menu"
							 value="#{labels['order.cancel']}"
							 disabled="#{orderView.orderCompleted}"
							 immediate="true"
							 styleClass="form-button">
							<p:confirm header="#{labels['confirm-dialog.title']}"
									   message="#{labels['order.confirm-cancel']}"
									   icon="pi pi-question-circle" />				 
			</p:commandButton>
			
			<br />
			<br />
				
				<p:confirmDialog global="true" showEffect="fade" hideEffect="fade" responsive="true" width="350">
	            	<p:commandButton value="#{labels['confirm-dialog.no']}" type="button"
	            	                 styleClass="ui-confirmdialog-no ui-button-flat"/>
	            	<p:commandButton value="#{labels['confirm-dialog.yes']}" type="button"
	            	                 styleClass="ui-confirmdialog-yes" />
	        	</p:confirmDialog>
			
			<div>
				<ui:include src="#{orderView.activePage()}" />
			</div>
		</h:form>
		
	</ui:define>

</ui:composition>