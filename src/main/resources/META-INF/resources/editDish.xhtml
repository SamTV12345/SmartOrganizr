<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui"
	template="/templates/template.xhtml">

	<ui:define name="title">
		<h:outputText value="#{labels['edit-dish.title']}" />
	</ui:define>
	
	<ui:define name="page-content">
		<h1><h:outputText value="#{labels['edit-dish.title']}" /></h1>
	
		<p:growl id="messages" />
	
		<h:form enctype="multipart/form-data">
			<div class="form-grid">
				<h:outputLabel for="name" value="#{labels['edit-dish.name']}" />
				
				<p:inputText value="#{editDishView.name}" requiredMessage="#{labels['edit-dish.name-may-not-be-empty']}"
				             id="name" required="true" />
			
				<h:outputLabel for="price" value="#{labels['edit-dish.price']}" />
				<p:inputText value="#{editDishView.price}" validatorMessage="#{labels['edit-dish.price-out-of-range']}"
				             converterMessage="#{labels['edit-dish.must-be-a-number']}" id="price">
					<f:validateDoubleRange minimum="0.5" maximum="15" />
					<f:convertNumber pattern="###0.00" />
				</p:inputText>
			
				<h:outputLabel value="#{labels['edit-dish.category']}" for="category"/>
				<p:selectOneMenu value="#{editDishView.category}" id="category" >
					<f:selectItems value="#{editDishView.categories}" var="category" itemLabel="#{labels[category.i18nKey]}"
					               itemValue="#{category}" />
				</p:selectOneMenu>
				
				<h:outputLabel value="#{labels['edit-dish.image']}" />
				<div>
					<p:fileUpload accept="image/jpg,image/jpeg,image/png,image/gif" dragDropSupport="true" mode="simple"
						value="#{editDishView.image}" skinSimple="true" chooseButtonTitle="WÃ¤hlen..." />
					<p:commandButton icon="pi pi-trash" value="#{labels['edit-dish.remove-image']}" 
						action="#{editDishView.removeImage()}" update="@form" />
				</div>
			</div>
			
			<p:commandButton value="#{labels['common.button.cancel']}" action="manageDishes" immediate="true"
			                 styleClass="form-button" />
			<p:commandButton value="#{labels['common.button.save']}" action="#{editDishView.save}"
			                 update="messages @form" styleClass="form-button" />
		</h:form>
	</ui:define>

</ui:composition>